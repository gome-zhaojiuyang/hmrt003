<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.thinkgem.jeesite.modules.hmrtgroupchat.dao.HmrtGroupChatDao">
    
	<sql id="hmrtGroupChatColumns">
		a.to AS "to",
		a.id AS "id",
		a.from AS "from",
		a.chattype AS "chattype",
		a.msg AS "msg",
		a.type AS "type",
		a.length AS "length",
		a.url AS "url",
		a.filename AS "filename",
		a.secret AS "secret",
		a.lat AS "lat",
		a.lng AS "lng",
		a.addr AS "addr",
		a.timestamp AS "timestamp"
	</sql>
	
	<sql id="hmrtGroupChatJoins">
	</sql>
    
	<select id="get" resultType="HmrtGroupChat">
		SELECT 
			<include refid="hmrtGroupChatColumns"/>
		FROM hmrt_group_chat a
		<include refid="hmrtGroupChatJoins"/>
		WHERE a.id = #{id}
	</select>
	
	<select id="findList" resultType="HmrtGroupChat">
		SELECT 
			<include refid="hmrtGroupChatColumns"/>
		FROM hmrt_group_chat a
		<include refid="hmrtGroupChatJoins"/>
		<where>
			
			<if test="to != null and to != ''">
				AND a.to = #{to}
			</if>
			<if test="from != null and from != ''">
				AND a.from = #{from}
			</if>
			<if test="timestamp != null and timestamp != ''">
				AND a.timestamp = #{timestamp}
			</if>
		</where>
		<choose>
			<when test="page !=null and page.orderBy != null and page.orderBy != ''">
				ORDER BY ${page.orderBy}
			</when>
			<otherwise>
			</otherwise>
		</choose>
	</select>
	
	<select id="findAllList" resultType="HmrtGroupChat">
		SELECT 
			<include refid="hmrtGroupChatColumns"/>
		FROM hmrt_group_chat a
		<include refid="hmrtGroupChatJoins"/>
		<where>
			
		</where>		
		<choose>
			<when test="page !=null and page.orderBy != null and page.orderBy != ''">
				ORDER BY ${page.orderBy}
			</when>
			<otherwise>
			</otherwise>
		</choose>
	</select>
	
	<insert id="insert">
		INSERT INTO hmrt_group_chat(
			to,
			id,
			from,
			chattype,
			msg,
			type,
			length,
			url,
			filename,
			secret,
			lat,
			lng,
			addr,
			timestamp
		) VALUES (
			#{to},
			#{id},
			#{from},
			#{chattype},
			#{msg},
			#{type},
			#{length},
			#{url},
			#{filename},
			#{secret},
			#{lat},
			#{lng},
			#{addr},
			#{timestamp}
		)
	</insert>
	
	<update id="update">
		UPDATE hmrt_group_chat SET 	
			to = #{to},
			from = #{from},
			chattype = #{chattype},
			msg = #{msg},
			type = #{type},
			length = #{length},
			url = #{url},
			filename = #{filename},
			secret = #{secret},
			lat = #{lat},
			lng = #{lng},
			addr = #{addr},
			timestamp = #{timestamp}
		WHERE id = #{id}
	</update>
	
	<update id="delete">
		DELETE FROM hmrt_group_chat
		WHERE id = #{id}
	</update>
	
</mapper>